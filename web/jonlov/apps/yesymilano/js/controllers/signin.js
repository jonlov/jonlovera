"use strict";app.controller("SigninFormController",["$scope","$rootScope","$http","$state","$location","$auth",function($scope,$rootScope,$http,$state,$location,$auth){$scope.authError=null,$rootScope.user&&$rootScope.user.info.username&&($scope.username=$rootScope.user.info.username);var decodedNext=decodeURIComponent($state.params.next);$scope.login=function(){$scope.authError=null;var allEncoded=$scope.username+"|"+$scope.password;$auth.login({0:allEncoded}).then(function(res){if($state.params.next)var pathFolder=decodedNext.split("/")[1];"404"!==pathFolder&&"logout"!==pathFolder&&"lockme"!==pathFolder&&"access"!==pathFolder?$location.path(decodedNext).search({}):$location.path("/").search({})})["catch"](function(res){$scope.authError=res.data})}}]);